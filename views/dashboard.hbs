<section class='dashboard'>
	<div class='adminSection dashboard__stats'>
		{{#each stats}}
			<div class='dashboard__stat adminItem'>
				<h2>{{value}}</h2>
				<span>{{text}}</span>
			</div>
		{{/each}}
	</div>
	<div class='adminSection'>
		<div class='adminItem'>
			<h2>Recent Tests</h2>
			<div class='adminTable'>
				<table>
					{{#each recentTests}}
						{{> dashboardTest
							id=id
							name=template.name
							date=date
						}}
					{{/each}}
				</table>
			</div>
		</div>
	</div>
	<div class='adminSection'>
		<div class='adminItem'>
			<h2>Upcoming Tests</h2>
			<div class='adminTable'>
				<table>
					{{#each upcomingTests}}
						{{> dashboardTest
							id=id
							name=template.name
							date=date
						}}
					{{/each}}
				</table>
			</div>
		</div>
	</div>
</section>

<script>
	const tests = document.querySelectorAll('.adminTable tr');
	tests.forEach(test => {
		test.addEventListener('click', () => {
			window.location.href =
				`/admin/test/${test.getAttribute('data-id')}`;
		});
	});
</script>
